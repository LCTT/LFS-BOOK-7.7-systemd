<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8">
<title>4.5.&nbsp;关于 SBU（标准编译单位）</title>
<link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="stylesheet" href="stylesheets/lfs-print.css" type="text/css" media="print">
</head>
<body class="lfs" id="lfs-7.7-systemd">
    <div class="navheader">
      <h4>Linux From Scratch - Version 7.7-systemd</h4>
      <h3>第四章.&nbsp;最后的准备工作</h3>
      <ul>
<li class="prev">
<a accesskey="p" title="Setting Up the Environment" href="settingenvironment.html">上一章</a><p>设置环境</p>
        </li>
        <li class="next">
<a accesskey="n" title="About the Test Suites" href="abouttestsuites.html">下一章</a><p>关于测试套件</p>
        </li>
        <li class="up">&lt;font color="#5e717f"&gt;<u>向上</u>&lt;/font&gt;</li>
        <li class="home"><a accesskey="h" href="../index.html" title="Linux From Scratch - Version 7.7-systemd">主页</a></li>
      </ul>
</div>
    <div class="sect1" lang="zh_CN" xml:lang="en">
      <h1 class="sect1">
<a id="prepare-aboutsbus" name="prepare-aboutsbus"></a>4.5. 标准编译单位</h1>
      <p>不少人在开始做之前都想要知道，编译和安装一个软件包到底需要
	多长的时间。实在是抱歉，因为 Linux From Scratch 能够运行于众
	多的硬件上，所以具体的编译时间无法一概而论。举一个简单的例子：
	在最快的硬件设备上，编译那种非常巨大的软件包（如 Glibc）可能
	仅需要 20 分钟，在那种很慢很慢的硬件上呢，这个时间可能就变
	成 3 天了。所以，这里使用 SBU（标准编译单位）来代替具体的
	编译时间。</p>
      <p>我们以 <a title="Chapter&nbsp;5.&nbsp;Constructing a Temporary 
	System" class="xref" href="../chapter05/chapter05.html">第五章</a> 编译的
	第一个软件包 Binutils 所用时间作为一个标准 SBU，其它软件的生成时间都以其为标准进行
	比较。</p>
      <p>例如，假如编译一个软件耗时 4.5 SBU，而编译一个 Binutils 用时 10 分钟的话，那么编
	译这个软件包 <span class="emphasis"><em>大约</em></span>耗时 45 分钟。当然啦，
	对于大多数人来说，编译 Binutils 可用不了 10 分钟那么久。</p>
      <p>一般来说，SBU 的结果并不准确，因为影响编译的因素太多，例如宿主机的 GCC 版本的不同就
	会改变编译的时间。所以更多的时候，这仅仅是提供一个编译和安装时间的预估，有些情况下，预
	估时间和实际编译时间可能相差几十分钟。</p>
      <div class="admon note">
<img alt="[Note]" src="../images/note.png"><h3>注意</h3>
        <p>对于大多数现代操作系统而言，可以通过设置环境变量或者是告知&nbsp;<span class="command">
	<strong>make</strong></span><span>&nbsp;程序具体可用的 CPU 数目或者是核心数据来进行
	“</span>并行编译”而减少编译的时间。例如，对于&nbsp;Core2Duo 可以通过以下参数实现双核同时
	编译：</p>
        <pre class="userinput"><kbd class="command">export MAKEFLAGS='-j 2'</kbd></pre>
        <p>或者直接这样编译：</p>
        <pre class="userinput"><kbd class="command">make -j2</kbd></pre>
        <p>当使用多核心同时编译，SBU 的结果可能和本书提供的建议值有所不同。在一些情况下，
	使用多核心同时编译可能失败，分析错误日志变得异常困难：因为核心之间是交叉编译（导致
	错误信息乱七八糟）。如果你在编译的时候遇到问题，那么请使用单核心编译，然后查看错误消息。</p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
<li class="prev">
<a accesskey="p" title="Setting Up the Environment" href="settingenvironment.html">上一章</a><p>设置环境</p>
        </li>
        <li class="next">
<a accesskey="n" title="About the Test Suites" href="abouttestsuites.html">下一章</a><p>关于测试套件</p>
        </li>
        <li class="up">&lt;font color="#5e717f"&gt;<u>向上</u>&lt;/font&gt;</li>
        <li class="home"><a accesskey="h" href="../index.html" title="Linux From Scratch - Version 7.7-systemd">主页</a></li>
      </ul>
</div>
  </body>
</html>
