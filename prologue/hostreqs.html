<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;
charset=windows-1252">
<title> Host System Requirements </title>
<link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="stylesheet" href="stylesheets/lfs-print.css"
type="text/css" media="print">
</head>
<body class="lfs" id="lfs-7.7-systemd">
<div class="navheader">
<h4> Linux From Scratch - Version 7.7-systemd </h4>
<h3> Preface </h3>
<ul>
<li class="prev"> <a accesskey="p" href="prerequisites.html"
title="Prerequisites">Prev</a>
<p> Prerequisites </p>
</li>
<li class="next"> <a accesskey="n" href="typography.html"
title="Typography">Next</a>
<p> Typography </p>
</li>
<li class="up"> <a accesskey="u" href="preface.html"
title="Preface">Up</a> </li>
<li class="home"> <a accesskey="h" href="../index.html"
title="Linux From Scratch - Version 7.7-systemd">主页</a> </li>
</ul>
</div>
<div class="sect1" xml:lang="en" lang="en">
<h1 class="sect1"> <a id="pre-hostreqs" name="pre-hostreqs"></a>vii.
Host System Requirements </h1>
<p> 你的宿主机应该安装有以下的软件包，且软件包的版本不能低于标注的版本。对于大部分现代 Linux
来说应该不是什么难事。不少发行版可能会将开发用到的头文件单独打包，并且命名为“<span class="quote"><span
class="quote">&lt;package-name&gt;-devel”或是“</span></span><span
class="quote"><span class="quote">&lt;package-name&gt;-dev</span>”
这样的额形式。</span>务必保证这样的包都已经装上！</p>
<p> 可能某些软件包的版本如果低于以下标注的版本也可以工作，不过我们不能一一测试。</p>
<div class="itemizedlist">
<ul class="compact">
<li class="listitem">
<p> <span class="strong"><strong>Bash-3.2</strong></span>
（/bin/sh 需要是到 bash 的硬链接符号） </p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Binutils-2.17</strong></span>
（不推荐安装 2 .25 以上的版本，它们都没有经过测试，并不敢保证没有问题） </p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Bison-2.3</strong></span>
（/usr/bin/yacc 应该是一个到 bison 的硬链接符号或者是一个执行 bison的脚本）</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Bzip2-1.0.4</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Coreutils-6.9</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Diffutils-2.8.1</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Findutils-4.2.31</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Gawk-4.0.1</strong></span>
（/usr/bin/awk 应该是到 gawk 的链接） </p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>GCC-4.1.2</strong></span>包
括 C++ 编译器、 <span class="command"><strong>g++</strong></span>
（不推荐安装 4.9.2 以上的版本，它们都没有经过测试，并不敢保证没有问题） </p>
<div class="admon note"> <img alt="[Note]"
src="../images/note.png">
<h3> 注意 </h3>
<p> 有报告称，部分发行版使用的 gcc 库存在缺失或者是不一致的情况。这一情况可能会干扰 LFS
系统的构建。请检查 /usr/lib 或是 /usr/lib64 下是否存在
libgmp.la、libmpfr.la 和
libmpc.la。这三个文件应该要么都存在，要么都没有，而不是只有一两个。假如你的情况不是这样，请将这些文件重命名或者是删除之，或者是安装缺少
的软件包。</p>
</div>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Glibc-2.5.1</strong></span>
（不推荐安装 2.21以上的版本，它们都没有经过测试，并不敢保证没有问题）</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Grep-2.5.1a</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Gzip-1.3.12</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Linux Kernel-2.6.32</strong></span>
</p>
<p> The reason for the kernel version requirement is that we
specify that version when building <span
class="application">glibc</span> in Chapter 6 at the
recommendation of the developers. It is also required by
udev. </p>
<p> If the host kernel is earlier than 2.6.32 you will need
to replace the kernel with a more up to date version.
There are two ways you can go about this. First, see if
your Linux vendor provides a 2.6.32 or later kernel
package. If so, you may wish to install it. If your vendor
doesn't offer an acceptable kernel package, or you would
prefer not to install it, you can compile a kernel
yourself. Instructions for compiling the kernel and
configuring the boot loader (assuming the host uses GRUB)
are located in <a class="xref"
href="../chapter08/chapter08.html"
title="Chapter&nbsp;8.&nbsp;Making the LFS System
Bootable">Chapter 8</a>. </p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>M4-1.4.10</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Make-3.81</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Patch-2.5.4</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Perl-5.8.8</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Sed-4.1.5</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Tar-1.18</strong></span> </p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Texinfo-4.7</strong></span>
</p>
</li>
<li class="listitem">
<p> <span class="strong"><strong>Xz-5.0.0</strong></span> </p>
</li>
</ul>
</div>
<p> Note that the symlinks mentioned above are required to build
an LFS system using the instructions contained within this book.
Symlinks that point to other software (such as dash, mawk, etc.)
may work, but are not tested or supported by the LFS development
team, and may require either deviation from the instructions or
additional patches to some packages. </p>
<div class="sect2" xml:lang="en" lang="en">
<h2 class="sect2"> <a id="version-check" name="version-check"></a>
</h2>
<p> To see whether your host system has all the appropriate
versions, and the ability to compile programs, run the
following: </p>
<pre class="userinput"><kbd class="command">cat &gt; version-check.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/bash
# Simple script to list version numbers of critical development tools

export LC_ALL=C
bash --version | head -n1 | cut -d" " -f2-4
echo "/bin/sh -&gt; `readlink -f /bin/sh`"
echo -n "Binutils: "; ld --version | head -n1 | cut -d" " -f3-
bison --version | head -n1

if [ -h /usr/bin/yacc ]; then
echo "/usr/bin/yacc -&gt; `readlink -f /usr/bin/yacc`";
elif [ -x /usr/bin/yacc ]; then
echo yacc is `/usr/bin/yacc --version | head -n1`
else
echo "yacc not found"
fi

bzip2 --version 2&gt;&amp;1 &lt; /dev/null | head -n1 | cut -d" " -f1,6-
echo -n "Coreutils: "; chown --version | head -n1 | cut -d")" -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1

if [ -h /usr/bin/awk ]; then
echo "/usr/bin/awk -&gt; `readlink -f /usr/bin/awk`";
elif [ -x /usr/bin/awk ]; then
echo yacc is `/usr/bin/awk --version | head -n1`
else
echo "awk not found"
fi

gcc --version | head -n1
g++ --version | head -n1
ldd --version | head -n1 | cut -d" " -f2- # glibc version
grep --version | head -n1
gzip --version | head -n1
cat /proc/version
m4 --version | head -n1
make --version | head -n1
patch --version | head -n1
echo Perl `perl -V:version`
sed --version | head -n1
tar --version | head -n1
makeinfo --version | head -n1
xz --version | head -n1

echo 'main(){}' &gt; dummy.c &amp;&amp; g++ -o dummy dummy.c
if [ -x dummy ]
then echo "g++ compilation OK";
else echo "g++ compilation failed"; fi
rm -f dummy.c dummy</code>
EOF

bash version-check.sh</kbd>
</pre>
<p> Also check for some library consistency: </p>
<pre class="userinput"><kbd class="command">cat &gt; library-check.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/bash
for lib in lib{gmp,mpfr,mpc}.la; do
echo $lib: $(if find /usr/lib* -name $lib|
grep -q $lib;then :;else echo not;fi) found
done
unset lib</code>
EOF

bash library-check.sh</kbd>
</pre>
<p> The files identified by this script should be all present or
all absent, but not only one or two present. </p>
</div>
</div>
<div class="navfooter">
<ul>
<li class="prev"> <a accesskey="p" href="prerequisites.html"
title="Prerequisites">Prev</a>
<p> Prerequisites </p>
</li>
<li class="next"> <a accesskey="n" href="typography.html"
title="Typography">Next</a>
<p> Typography </p>
</li>
<li class="up"> <a accesskey="u" href="preface.html"
title="Preface">Up</a> </li>
<li class="home"> <a accesskey="h" href="../index.html"
title="Linux From Scratch - Version 7.7-systemd">主页</a> </li>
</ul>
</div>
</body>
</html>
