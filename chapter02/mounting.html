<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> 2.4.&nbsp;Mounting the New Partition </title>
<link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="stylesheet" href="stylesheets/lfs-print.css"
type="text/css" media="print">
</head>
<body class="lfs" id="lfs-7.7-systemd">
<div class="navheader">
<h4> Linux From Scratch - Version 7.7-systemd </h4>
<h3> 第 2 章. 准备分区 </h3>
<ul>
<li class="prev"> <a accesskey="p"
href="creatingfilesystem.html" title="Creating a File System
on the Partition">上一页</a>
<p> 在分区上建立文件系统 </p>
</li>
<li class="next"> <a accesskey="n" href="aboutlfs.html"
title="Setting The $LFS Variable">下一页</a>
<p> Setting The $LFS Variable </p>
</li>
<li class="up"> <a accesskey="u" href="chapter02.html"
title="Chapter&nbsp;2.&nbsp;Preparing a New Partition">返回</a>
</li>
<li class="home"> <a accesskey="h" href="../index.html"
title="Linux From Scratch - Version 7.7-systemd">主页</a> </li>
</ul>
</div>
<div class="sect1" xml:lang="en" lang="en">
<h1 class="sect1"> <a id="space-mounting" name="space-mounting"></a>2.4.
挂载新建分区</h1>
<p> 至此，文件系统已经创建妥当，下一步就是访问这些分区了。为此，需要将这些建立的分区挂载到选定的挂载点。本书假定的挂载点为<code>
</code><code class="filename">/mnt/lfs，这里，你可以根据喜好自行更改（译者注：这里强烈建
议，看这本书的读者就将挂载点设置为 </code><code class="filename"><code
class="filename">/mnt/lfs 吧，这样在自行后面的命令时，大多数命令都无需做任何的修改</code>）。</code>
</p>
<p> 运行以下命令，将欲选定的挂载点设置为 LFS 环境变量：</p>
<pre class="userinput"><kbd class="command">export LFS=/mnt/lfs</kbd>
</pre>
<p> 运行以下命令，建立挂载点后，后挂载分区Next, create the mount point and mount the
LFS file system by running: </p>
<pre class="userinput"><kbd class="command">mkdir -pv $LFS <font color="#999999"># 建立挂载点</font>
mount -v -t ext4 /dev/<em class="replaceable"><code>&lt;xxx&gt;</code></em> $LFS</kbd> <font color="#999999"># 将 /dev/<em class="replaceable"><code>&lt;xxx&gt;</code></em> 挂载到 $LFS</font>
</pre>
<p> 此处 <em class="replaceable"><code>&lt;xxx&gt;</code></em>
用实际的设备名称代替（下同）。 </p>
<p> 如果有多个分区需要挂载，请逐一挂载（例如，一个 <code class="filename">/</code> 分区，一个
<code class="filename">/usr</code> 分区）：</p>
<pre class="userinput"><kbd class="command">mkdir -pv $LFS <font color="#999999"># 建立 / 分区的挂载点</font>
mount -v -t ext4 /dev/<em class="replaceable"><code>&lt;xxx&gt;</code></em> $LFS <font color="#999999"># 将 </font></kbd><font color="#999999"><kbd class="command">/dev/<em class="replaceable"><code>&lt;xxx&gt; 挂载到 </code></em></kbd></font><kbd class="command"><font color="#999999"><em class="replaceable"><code>$LFS</code></em></font>
mkdir -v $LFS/usr <font color="#999999"># 建立 </font></kbd><kbd class="command"><font color="#999999">$LFS/usr 挂载点，用于挂载 /usr</font>
mount -v -t ext4 /dev/<em class="replaceable"><code>&lt;yyy&gt;</code></em> $LFS/usr</kbd> <font color="#999999"># 将 /dev/<em class="replaceable"><code>&lt;yyy&gt;</code></em> 挂载到 <kbd class="command"></kbd><kbd class="command">$LFS/usr</kbd></font>
</pre>
<p>
（译者注：挂载是有顺序的！假如需要挂载以下分区：/、/usr、/usr/bin，在挂载的时候，只能按照这样的顺序挂载，假如先挂载
/，然后挂载 /usr/bin，再挂载 /usr 将会出错！）</p>
<p> 需要注意的是挂载的时候请不要使用严格权限的参数（例如 <code class="option">nosuid</code>
或 <code class="option">nodev</code> ）。使用不带参数的 <span
class="command"><strong>mount</strong></span> 查看挂载 LFS
的时候具体使用了哪些参数。
如果已经设置了 <code class="option">nosuid</code> <code>和/或 </code><code
class="option">nodev</code> 参数，请重新挂载。<br>
</p>
<pre class="userinput"><kbd class="command">（译者注：使用不带任何参数的 mount 命令，可以得到如下的输出：<br>devtmpfs on /dev type devtmpfs (rw,relatime,size=500896k,nr_inodes=125224,mode=755)<br>其中，括号内的内容为挂载的参数<br>）</kbd>
</pre>
<p> 如果使用 <code class="systemitem">swap</code> 分区，请使用 <span
class="command"><strong>swapon </strong></span>命令启用： </p>
<pre class="userinput"><kbd class="command">/sbin/swapon -v /dev/<em class="replaceable"><code>&lt;zzz&gt;</code></em></kbd>
</pre>
<p> 哎呦，到现在，所有的准备工作都做的差不多了，下面该下载软件包了！</p>
</div>
<div class="navfooter">
<ul>
<li class="prev"> <a accesskey="p"
href="creatingfilesystem.html" title="Creating a File System
on the Partition">上一页</a>
<p> 在分区上建立文件系统 </p>
</li>
<li class="next"> <a accesskey="n" href="aboutlfs.html"
title="Setting The $LFS Variable">下一页</a>
<p> Setting The $LFS Variable </p>
</li>
<li class="up"> <a accesskey="u" href="chapter02.html"
title="Chapter&nbsp;2.&nbsp;Preparing a New Partition">返回</a>
</li>
<li class="home"> <a accesskey="h" href="../index.html"
title="Linux From Scratch - Version 7.7-systemd">主页</a> </li>
</ul>
</div>
</body>
</html>
